(function(){
'use strict';
angular.module('keyManagement', ['ui.router','ngTable'])

.config(["$stateProvider", "$urlRouterProvider", function($stateProvider, $urlRouterProvider){
  $urlRouterProvider.otherwise('/');
   $stateProvider
        .state('home', {
            url: '/',
            views : {
                'header': {
                  templateUrl: 'min_partials/header.html'
                },
                'content' : {
                    templateUrl: 'min_partials/content.html',
                    controller : 'mainController'
                },
                'footer' : {
                    templateUrl: 'min_partials/footer.html'
                },
                'left' : {
                    templateUrl: 'min_partials/leftMenu.html'
                }
          }
        })
}]);
})();
(function() {
    "use strict";

    angular.module('keyManagement').controller('mainController', ["NgTableParams", "loadJson", "$scope",function (NgTableParams,loadJson,$scope){
    	loadJson.getTableDefaultList().then(function(tableData) {
    		$scope.data =  tableData;
		});
    }]);
})();

(function() {
    'use strict';
    angular.module('keyManagement').factory('loadJson', ['$http', function($http) {
        return {
            getTableDefaultList: function() {
                var tableDefaultList = $http.get('assets/js/json/table_data.json').then(function(response) {
                    return response.data;
                });
                return tableDefaultList;
            }
        }
    }]);
})();